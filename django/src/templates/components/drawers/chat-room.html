{% extends "components/drawers/drawer-left.html" %}
{% load i18n %}
{% load static %}

{% block drawerStyles %}
	<link rel="stylesheet" href="{% static 'styles/chat-room.css' %}" />
{% endblock %}

{% block drawerHeader %}
	<h2>{{ room_name }}</h2>
{% endblock %}

{% block drawerContent %}
{{ room.id|json_script:"room_id" }}

<div class="chat-container">
    <div class="chat-messages" id="chat-messages" data-room="public_room">
        <div id="loading-spinner" style="display: none;">
            <div class="spinner-border text-primary" role="status">
                <span class="sr-only">{% trans 'Loading...' %}</span>
            </div>
        </div>
        <!-- Messages will be appended here dynamically -->
    </div>
    <div class="chat-input">
        {% if not room.is_group_chat %}
            <div class="pong-invite-icon" id="pong-invite-icon">
                <img src="{% static 'images/icons/pong-invite.svg' %}" alt="invite" />
            </div>
        {% endif %}
        <input type="text" id="message-input" data-room="public_room" placeholder="{% trans 'Type a message' %}">
        <button id="send-button">
			<img src="{% static 'images/icons/send.svg' %}" alt="Send" />
		</button>
    </div>
</div>
{% endblock %}

{% block drawerScripts %}
{% endblock %}